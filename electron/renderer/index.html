<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'">
    <title>Tru.ai Desktop</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="app">
        <!-- Activity Bar (Left) -->
        <div class="activity-bar">
            <div class="activity-icon active" data-panel="explorer" title="Explorer">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M10 4H4c-1.11 0-2 .89-2 2v12a2 2 0 002 2h16a2 2 0 002-2V8a2 2 0 00-2-2h-8l-2-2H4z"/>
                </svg>
            </div>
            <div class="activity-icon" data-panel="search" title="Search">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 6.79 14 9.5 12.21 14 9.5 14z"/>
                    </svg>
                </button>
            </div>
            <div class="activity-icon" data-panel="git" title="Source Control">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M21.007 8.222A3.738 3.738 0 0 0 15.045 5.2a3.737 3.737 0 0 0-1.043 2.6c0 .734.179 1.43.496 2.04l-3.156 1.82a3.736 3.736 0 0 0-2.124-.657H9.677c-.243-1.505-1.383-2.82-3.027-3.385a3.998 3.998 0 1 0-4.967 4.172c.527 1.028.75 2.037.673 3.102-.088 1.21-.755 2.251-1.228 3.253-.364.78-.655 1.45-.655 2.033 0 .583.291 1.254.655 2.043.365.79.82 1.587 1.396 2.386 1.15 1.598 2.726 3.281 4.65 4.882.18.15.366.297.56.439a13.73 13.73 0 0 0 .364-1.118l.003-.01c.185-.677.348-1.345.531-2.01.134-.489.223-.98.315-1.475.121-.653.242-1.307.444-1.947a6.662 6.662 0 0 1 2.007-3.355l.005-.005c.341-.32.71-.605 1.102-.85a5.296 5.296 0 0 1 2.068-.794A6.454 6.454 0 0 1 13 14.5h.5a6.5 6.5 0 1 1 0 13h-.5c-.176 0-.348-.011-.516-.034a5.001 5.001 0 1 0-1.483 9.92l.002.001a1 1 0 0 0 .154-.065A13.5 13.5 0 0 0 24 9.5c0-7.456-6.044-13.5-13.5-13.5S-3 2.044-3 9.5"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      Tru.ai
    </div>

    <div class="main-content">
      <!-- Activity Bar -->
      <div class="activity-bar">
        <div class="activity-icon active" title="Explorer" data-panel="explorer">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-8l-2-2H6z"/>
          </svg>
          <span>Tru.ai</span>
        </div>
        <div class="mode-picker">
          <button class="mode-btn active" data-mode="ide">IDE</button>
          <button class="mode-btn" data-mode="chat">Chat</button>
        </div>
      </div>

      <!-- Main content -->
      <div class="main-content">
        <!-- Activity Bar -->
        <div class="activity-bar">
          <button class="activity-btn active" data-panel="explorer" title="Explorer">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 7v13a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Main Editor Area -->
      <div class="editor-area">
        <!-- Tab bar -->
        <div class="tab-bar" id="tab-bar">
          <!-- Tabs will be added dynamically -->
        </div>

        <!-- Editor -->
        <div id="editor-container" class="editor-container"></div>
      </div>

      <!-- Bottom Panel (Terminal) -->
      <div id="terminal-panel" class="terminal-panel" style="display: none;">
        <div class="panel-header">
          <span>Terminal</span>
          <button id="clear-terminal" class="icon-button">Clear</button>
        </div>
        <div id="terminal"></div>
      </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
      <div class="status-left">
        <span id="status-file">No file open</span>
        <span id="status-git"></span>
      </div>
      <div class="status-right">
        <span id="status-position">Ln 1, Col 1</span>
        <span>UTF-8</span>
        <span>LF</span>
      </div>
    </div>

    <!-- Command Palette (hidden by default) -->
    <div id="command-palette" class="command-palette" style="display: none;">
      <input type="text" id="command-input" placeholder="Type a command...">
      <div id="command-list"></div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
